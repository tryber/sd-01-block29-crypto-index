(this["webpackJsonptrybe-ssr"]=this["webpackJsonptrybe-ssr"]||[]).push([[0],{16:function(e,t,n){e.exports=n(42)},21:function(e,t,n){},22:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(15),o=n.n(c),u=(n(21),n(22),n(4)),l=n.n(u),s=n(5),i=n(2),m=n(3),p=n.n(m),b=function(){return localStorage.getItem("token")},f=Object(a.createContext)(),d=function(e){var t=e.children,n=Object(a.useState)([]),c=Object(i.a)(n,2),o=c[0],u=c[1],m=Object(a.useState)(),d=Object(i.a)(m,2),h=d[0],E=d[1],v=Object(a.useState)(),g=Object(i.a)(v,2),C=g[0],j=g[1],y=Object(a.useState)(1),O=Object(i.a)(y,2),w=O[0],k=O[1],x=Object(a.useState)("BRL"),S=Object(i.a)(x,2),B=S[0],V=S[1],U=Object(a.useState)({}),A=Object(i.a)(U,2),N=A[0],P=A[1],D=Object(a.useState)(),R=Object(i.a)(D,2),z=R[0],I=R[1],L=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.get("http://localhost:3001/crypto/btc",{headers:{authorization:b(),"Content-Type":"application/json"}}).then((function(e){var t=e.data;return u(t.bpi)})).catch((function(e){return u(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T={changeValueCurrency:z,currentCurrencyValue:N,data:o,selectedCoin:B,getCurrency:function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.get("http://localhost:3001/currencies",{headers:{"Content-Type":"application/json"}}).then((function(e){return P(e.data)})).catch((function(e){return P(e)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),userEmail:h,userPassword:C,updateBitcon:w,setChangeValueCurrency:I,setSelectedCoin:V,setUserEmail:E,setUserPassword:j,setUpdateBitcoin:k,getData:L};return r.a.createElement(f.Provider,{value:T},t)};n(41);function h(e,t){p.a.post("http://localhost:3001/login",{email:e,password:t}).then((function(e){var t;(e.status=200)&&(t=e.data.token,localStorage.setItem("token",t))})).catch((function(e){return console.log(e)}))}function E(){var e=Object(a.useContext)(f),t=e.userEmail,n=e.userPassword;return r.a.createElement("div",null,function(){var e=Object(a.useContext)(f),t=e.userEmail,n=e.setUserEmail;return r.a.createElement("section",null,r.a.createElement("label",{className:"email",htmlFor:"email"},"email:",r.a.createElement("input",{className:"input-email",type:"email",name:"email",value:t,onChange:function(e){return n(e.target.value)},placeholder:"exemplo@exemplo.com",required:!0})))}(),function(){var e=Object(a.useContext)(f),t=e.userPassword,n=e.setUserPassword;return r.a.createElement("section",null,r.a.createElement("label",{className:"password",htmlFor:"password"},"password:",r.a.createElement("input",{className:"input-password",type:"password",name:"password",value:t,onChange:function(e){return n(e.target.value)},placeholder:"Digite sua senha",required:!0})))}(),r.a.createElement("button",{className:"form-submit",type:"submit",onClick:function(){return h(t,n)}},"Entrar"))}var v=function(){var e=Object(a.useContext)(f).getData;return Object(a.useEffect)((function(){e()}),[]),r.a.createElement("div",null,function(){var e=Object(a.useContext)(f),t=e.data,n=e.updateBitcon,c=e.setUpdateBitcoin,o=Object.entries(t);return r.a.createElement("div",null,r.a.createElement("button",{type:"button",onClick:c(n)},"Atualizar valor monet\xe1rio"),r.a.createElement("div",null,"BTC:",r.a.createElement("input",{type:"number",value:n,onChange:function(e){return c(e.target.value)}})),o.map((function(e){return r.a.createElement("p",{key:e[0]},"".concat(e[0],": ").concat(e[1].rate_float*n))})))}())};function g(){var e=Object(a.useContext)(f),t=e.changeValueCurrency,n=e.selectedCoin,c=e.setSelectedCoin,o=e.currentCurrencyValue,u=e.setChangeValueCurrency;return r.a.createElement("div",null,r.a.createElement("label",null,"Moeda",r.a.createElement("select",{value:n,onChange:function(e){return c(e.target.value)}},r.a.createElement("option",{value:"BRL"},"BRL"),r.a.createElement("option",{value:"EUR"},"EUR"),r.a.createElement("option",{value:"CAD"},"CAD")),r.a.createElement("br",null)),r.a.createElement("span",null,"Valor Atual: ","".concat(o[n])," "),r.a.createElement("br",null),r.a.createElement("label",null,"Novo Valor",r.a.createElement("input",{type:"number",onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{type:"button",onClick:function(){return function(e,t){p.a.post("http://localhost:3001/crypto/btc",{currency:e,value:t},{headers:{Authorization:b()}}).then((function(e){"Valor alterado com sucesso!"===e.message&&console.log(e.message)})).catch((function(e){return console.log(e)}))}(n,t)}},"Atualizar")))}function C(){var e=Object(a.useContext)(f).getCurrency;return Object(a.useEffect)((function(){e()}),[]),r.a.createElement("div",null,g())}var j=function(){return r.a.createElement("div",null,r.a.createElement(d,null,r.a.createElement(E,null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(v,null)," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(C,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.hydrate(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.1492f702.chunk.js.map